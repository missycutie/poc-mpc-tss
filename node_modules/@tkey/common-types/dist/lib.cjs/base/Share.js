'use strict';

var _defineProperty = require('@babel/runtime/helpers/defineProperty');
var BN = require('bn.js');
var BNUtils = require('./BNUtils.js');
var PublicShare = require('./PublicShare.js');

class Share {
  constructor(shareIndex, share) {
    _defineProperty(this, "share", void 0);
    _defineProperty(this, "shareIndex", void 0);
    this.share = new BN(share, "hex");
    this.shareIndex = new BN(shareIndex, "hex");
  }
  static fromJSON(value) {
    const {
      share,
      shareIndex
    } = value;
    return new Share(shareIndex, share);
  }
  getPublicShare() {
    return new PublicShare(this.shareIndex, BNUtils.getPubKeyPoint(this.share));
  }
  toJSON() {
    return {
      share: this.share.toString("hex"),
      shareIndex: this.shareIndex.toString("hex")
    };
  }
}
var Share$1 = Share;

module.exports = Share$1;
